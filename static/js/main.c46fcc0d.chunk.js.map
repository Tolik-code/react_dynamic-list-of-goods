{"version":3,"sources":["api/goods.js","Components/GoodList.jsx","App.js","index.js"],"names":["getAll","fetch","then","response","json","get5First","sort","prev","next","name","localeCompare","slice","getRed","filter","food","color","GoodList","state","list","recordListFromServer","props","goods","res","setState","this","prevProps","show","className","map","elem","index","key","id","length","React","Component","App","currentListGoods","getFirstFiveGoods","getRedGoods","getAllGoods","type","onClick","ReactDOM","render","document","getElementById"],"mappings":"iRAGO,SAASA,IACd,OAAOC,MAHI,yEAIRC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAGxB,IAAMC,EAAY,kBACvBL,IAASE,MAAK,SAAAC,GAAQ,OACpBA,EAASG,MAAK,SAACC,EAAMC,GAAP,OACZD,EAAKE,KAAKC,cAAcF,EAAKC,SAAQE,MAAM,EAAG,OAIvCC,EAAS,kBACpBZ,IAASE,MAAK,SAAAC,GAAQ,OACpB,YAAIA,GAAUU,QAAO,SAAAC,GAAI,MAAmB,QAAfA,EAAKC,aCbzBC,G,MAAb,4MACEC,MAAQ,CACNC,KAAM,MAFV,EAeEC,qBAAuB,WACrB,EAAKC,MAAMC,MAAMnB,MAAK,SAAAoB,GACpB,EAAKC,SAAS,CAACL,KAAK,YAAKI,SAjB/B,uDAKE,WACEE,KAAKL,yBANT,gCASE,SAAmBM,GACbA,EAAUC,OAASF,KAAKJ,MAAMM,MAChCF,KAAKL,yBAXX,oBAqBE,WACE,IAAQD,EAASM,KAAKP,MAAdC,KAER,OACE,oCACCA,GACC,oCACE,wBAAIS,UAAU,QACbT,EAAKU,KAAI,SAACC,EAAMC,GAAP,OACR,wBAAIC,IAAKF,EAAKG,GAAIL,UAAWE,EAAKd,OAC/Be,IAAUZ,EAAKe,OAAS,GAAK,8CAC7BJ,EAAKpB,gBAhCpB,GAA8ByB,IAAMC,YC8ErBC,E,4MA5EbnB,MAAQ,CACNS,KAAM,MACNW,iBAAkBrC,K,EAGpBsC,kBAAoB,WAClB,EAAKf,UAAS,SAACN,GACb,MAAmB,cAAfA,EAAMS,MACD,CACLA,KAAM,YACNW,iBAAkBhC,S,EAQ1BkC,YAAc,WACZ,EAAKhB,UAAS,SAACN,GACb,MAAmB,YAAfA,EAAMS,MACD,CACLA,KAAM,UACNW,iBAAkBzB,S,EAQ1B4B,YAAc,WACZ,EAAKjB,UAAS,SAACN,GACb,MAAmB,QAAfA,EAAMS,MACD,CACLA,KAAM,MACNW,iBAAkBrC,S,4CAQ1B,WACE,MAAmCwB,KAAKP,MAAhCoB,EAAR,EAAQA,iBAAkBX,EAA1B,EAA0BA,KAE1B,OACE,oCACE,qDACA,6BACE,4BACEe,KAAK,SACLC,QAASlB,KAAKgB,aAFhB,aAMA,4BACEC,KAAK,SACLC,QAASlB,KAAKe,aAFhB,kBAMA,4BACEE,KAAK,SACLC,QAASlB,KAAKc,mBAFhB,kBAOF,kBAAC,EAAD,CAAUjB,MAAOgB,EAAkBX,KAAMA,S,GAvE/BQ,IAAMC,WCDxBQ,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,U","file":"static/js/main.c46fcc0d.chunk.js","sourcesContent":["// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nexport function getAll() {\n  return fetch(API_URL)\n    .then(response => response.json());\n}\n\nexport const get5First = () => (\n  getAll().then(response => (\n    response.sort((prev, next) => (\n      prev.name.localeCompare(next.name))).slice(0, 5)\n  ))\n);\n\nexport const getRed = () => (\n  getAll().then(response => (\n    [...response].filter(food => food.color === 'red')\n  ))\n);\n","// import { render } from 'node-sass';\r\nimport React from 'react';\r\nimport './GoodList.scss';\r\n\r\nexport class GoodList extends React.Component {\r\n  state = {\r\n    list: null,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.recordListFromServer();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.show !== this.props.show) {\r\n      this.recordListFromServer();\r\n    }\r\n  }\r\n\r\n  recordListFromServer = () => {\r\n    this.props.goods.then(res => {\r\n      this.setState({list: [...res]});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { list } = this.state;\r\n\r\n    return (\r\n      <>\r\n      {list && (\r\n        <>\r\n          <ul className=\"list\">\r\n          {list.map((elem, index) => (\r\n            <li key={elem.id} className={elem.color}>\r\n              {index === list.length - 1 && <span>last good---</span>}\r\n              {elem.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </>\r\n      )}\r\n      </>\r\n    );\r\n  }\r\n}","import React from 'react';\nimport './App.scss';\nimport { getAll, get5First, getRed } from './api/goods';\nimport { GoodList } from './Components/GoodList';\n\nclass App extends React.Component {\n  state = {\n    show: 'all',\n    currentListGoods: getAll(),\n  }\n\n  getFirstFiveGoods = () => {\n    this.setState((state) => {\n      if (state.show !== 'firstFive') {\n        return {\n          show: 'firstFive',\n          currentListGoods: get5First(),\n        };\n      }\n\n      return true;\n    });\n  };\n\n  getRedGoods = () => {\n    this.setState((state) => {\n      if (state.show !== 'onlyRed') {\n        return {\n          show: 'onlyRed',\n          currentListGoods: getRed(),\n        };\n      }\n\n      return true;\n    });\n  };\n\n  getAllGoods = () => {\n    this.setState((state) => {\n      if (state.show !== 'all') {\n        return {\n          show: 'all',\n          currentListGoods: getAll(),\n        };\n      }\n\n      return true;\n    });\n  };\n\n  render() {\n    const { currentListGoods, show } = this.state;\n\n    return (\n      <>\n        <h1>Dynamic list of Goods</h1>\n        <div>\n          <button\n            type=\"button\"\n            onClick={this.getAllGoods}\n          >\n            All goods\n          </button>\n          <button\n            type=\"button\"\n            onClick={this.getRedGoods}\n          >\n            Only red goods\n          </button>\n          <button\n            type=\"button\"\n            onClick={this.getFirstFiveGoods}\n          >\n            First 5 goods\n          </button>\n        </div>\n        <GoodList goods={currentListGoods} show={show} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}